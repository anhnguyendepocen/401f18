---
title: "Homework 2, STATS 401 F18"
author: "Due in your lab on 9/21"
output:
  html_document:
    theme: flatly
    toc: no
csl: ecology.csl
---

\newcommand\mat[1]{\mathbb{#1}}
\newcommand\xtranspose{{\mbox{\tiny \textsc{t}}}}
\newcommand\transpose{{\scriptscriptstyle \mathrm{T}}}



### More swirl lessons

Continuing from Homework 1, complete the following swirl modules: ```Lesson 5: Missing Values```, ```Lesson 6: Subsetting Vectors```, ```Lesson 7: Matrices and Data Frames```, ```Lesson 9: Functions```. We will not need the material in ```Lesson 8: Logic```, but you can do this too if you like. You will have a chance to ask swirl questions in lab if difficulties arise.

**Q1**. Write a brief comment on what you did with swirl, which tutorials you successfully completed, and the techical or conceptual obstacles (if any) that you encountered and (hopefully) overcame. This could be as little as a single sentence.

---------------

### Matrix exercises

It is good to do at least one example of each of the fundamental matrix operations by hand, even though in practice we almost always use a computer. For the homework, you are required to carry out and check exactly one example of each operation, but the code provided can be used to make more examples until you are comfortable with carrying out all of them.

We will generates exercises using the following function:
```{r randomMatrix}
randomMatrix <- function(p,q,values=-4:4){
   matrix(sample(values,size=p*q,replace=TRUE),p,q)
}
```
This produces a $p\times q$ matrix with random entries which are, by default, drawn with replacement from the sequence $-4,-3,\dots,0,\dots,3,4$. 
Let's use ```randomMatrix``` to produce two $2\times 2$ matrices $\mat{A}$ and $\mat{B}$, setting the seed of the random number generator so that the function returns the same matrix each time
```{r AB}
set.seed(5)
A <- randomMatrix(2,2)
B <- randomMatrix(2,2)
A
B
```

**Q2. Matrix addition**.  Compute by hand the matrix sum
```{r sum,echo=FALSE,results='asis',cache=FALSE}
## uses mat2tex from https://github.com/markheckmann/mat2tex
library(mat2tex)
xx("\\mat{A}+\\mat{B} = ",A,"+",B,digits=0,mtype="bmatrix")
```
Then check your calculation using R. Report your answer and your R code.

**Q3. Scalar times matrix multiplication**. Compute by hand the following product of a scalar and a matrix
```{r scalar_mult,echo=FALSE,results='asis'}
xx("2 \\mat{A} = ", "2",A,digits=0,mtype="bmatrix")
```
Then check your calculation using R. Report your answer and your R code.

**Q4. Multiplying two square matrices**. Compute by hand the matrix product
```{r AB_prod,echo=FALSE,results='asis'}
xx("\\mat{A}\\mat{B} = ",A,B,digits=0,mtype="bmatrix")
```
Then check your calculation using R. 

**Q5. Multiplying two rectangular matrices**. Compute by hand the product $\mat{C}\mat{D}$ where 
$\mat{C}$ and $\mat{D}$ are given by
```{r CD_prod}
set.seed(7)
C <- randomMatrix(2,3)
D <- randomMatrix(3,2)
```
Then check your calculation using R. Report your answer and your R code. Confirm whether you can also get the answer calculating my hand.

**Q6. Inverting a $2\times 2$ matrix**. Compute by hand the matrix inverse
```{r inverse,echo=FALSE,results='asis'}
xx("\\mat{A}^{-1} = ",A,"^{-1}", digits=0,mtype="bmatrix")
```
Then check your calculation using R. Report your answer and your R code. Confirm whether you can also get the answer calculating my hand.


Generate more examples using ```randomMatrix()``` until you are confident about inverting $2\times 2$ matrices by hand.

**Q7. Transposing a matrix**. Compute by hand the transpose of $\mat{C}$,
```{r transpose,echo=FALSE,results='asis'}
xx("\\mat{C}^{\\transpose} = ",C,"^{T}", digits=0,mtype="bmatrix")
```
Then check your calculation using R. Report your answer and your R code. Confirm whether you can also get the answer calculating my hand.

```{r linear_system,echo=F,results=F}
set.seed(8)
L <- randomMatrix(4,4)
b <- randomMatrix(4,1)
my_sign <- function(a)ifelse(a==0,"",ifelse(a>0,"+","-"))
my_abs <- function(a,x)ifelse(a==0,"",ifelse(abs(a)==1,x,paste(abs(a),x)))
my_nonzero <- function(a,x)ifelse(a==0,"",paste(a,x))
```

**Q8. Solve the following system of linear equations using R.**
$$\begin{array}{ccccccccc}
`r my_nonzero(L[1,1],"w")` &`r my_sign(L[1,2])`& `r my_abs(L[1,2],"x")` &`r my_sign(L[1,3])`& `r my_abs(L[1,3],"y")` &`r my_sign(L[1,4])` & `r my_abs(L[1,4],"z")` &=& `r b[1,1]` \\
`r my_nonzero(L[2,1],"w")` &`r my_sign(L[2,2])`& `r my_abs(L[2,2],"x")` &`r my_sign(L[2,3])`& `r my_abs(L[2,3],"y")` &`r my_sign(L[2,4])` & `r my_abs(L[2,4],"z")` &=&  `r b[2,1]`\\
`r my_nonzero(L[3,1],"w")` &`r my_sign(L[3,2])`& `r my_abs(L[3,2],"x")` &`r my_sign(L[3,3])`& `r my_abs(L[3,3],"y")` &`r my_sign(L[3,4])` & `r my_abs(L[3,4],"z")` &=& `r b[3,1]` \\
`r my_nonzero(L[4,1],"w")` &`r my_sign(L[4,2])`& `r my_abs(L[4,2],"x")` &`r my_sign(L[4,3])`& `r my_abs(L[4,3],"y")` &`r my_sign(L[4,4])` & `r my_abs(L[4,4],"z")` &=& `r b[4,1]`
\end{array}$$
Report your answer and your R code. You are not required to solve this by hand.

**As usual, you also need to make a _Sources_ statement, which will let the grader know whether you completed the homework based on class and lab materials alone or whether you made use of additional resources.**

------

License: This material is provided under an [MIT license](https://ionides.github.io/401w18/LICENSE)<br>


------
