---
title: "Quiz 2, STATS 401 F18"
author: "In lab on 11/16"
output:
  pdf_document:
    latex_engine: xelatex
  toc: no
header-includes:
   - \usepackage{ifthen}
csl: ecology.csl
---


```{r preliminaries,echo=F,cache=F}
 ALL <- TRUE
#ALL <- FALSE
#SOL <- TRUE
SOL <- FALSE
 QLABELS <- TRUE
#QLABELS <- FALSE
library(mat2tex)
set.seed(12)
knitr::opts_chunk$set(cache = FALSE)
```


%% \newcommand\exam[1]{#1} %% exam paper formatting
 \newcommand\exam[1]{} %% omit exam paper formatting


\newcommand\mat[1]{\mathbb{#1}}
\renewcommand\vec[1]{\boldsymbol{\mathrm{#1}}}
\newcommand\vect[1]{\vec{#1}}
\newcommand\transpose{{\scriptscriptstyle \mathrm{T}}}
\newcommand\prob{\mathrm{P}}
\newcommand\E{\mathrm{E}}
\newcommand\SE{\mathrm{SE}}
\newcommand\normal{\mathrm{normal}}
\newcommand\iid{\mathrm{iid}}
\newcommand\MVN{\mathrm{MVN}}
\newcommand\RSS{\mathrm{RSS}}
\newcommand\pval{\mathrm{pval}}
\newcommand\sd{\mathrm{SD}}
\newcommand\sdSample{\mathrm{sd}}
\newcommand\var{\mathrm{Var}}
\newcommand\varSample{\mathrm{var}}
\newcommand\cov{\mathrm{Cov}}
\newcommand\covSample{\mathrm{cov}}
\newcommand\cor{\mathrm{Cor}}
\newcommand\corSample{\mathrm{cor}}
\newcommand\TRUEorFALSE{TRUE or FALSE. } 


\exam{\vspace{1.5cm}

{\bf Name: \hspace{6cm} UMID: }

\vspace{1.5cm}

}

```{r,results="asis",echo=F,purl=F,eval=ALL}
cat("**This document produces different random quizzes each time the source code generating it is run. The actual quiz will be a realization generated by this random process, or something similar.**")
```

```{r,results="asis",echo=F,purl=F,eval=ALL}
cat("**This version lists all the questions currently in the quiz generator. Q1 and Q2 review material from throughout the course so far. Q3 and Q4 focus on recently covered topics. 
The quiz will have several TRUE/FALSE questions drawn at random for Q1, and one question drawn at random for each of Q2, Q3 and Q4. Small changes and corrections from this version may be included in the quiz, but no new questions are anticipated.**")
```

**Instructions. You have a time allowance of 50 minutes, though the quiz may take you less time and you can leave lab once you are done.  The quiz is closed book, and you are not allowed access to any notes. Any electronic devices in your possession must be turned off and remain in a bag on the floor.**

**The following formulas are provided. To use these formulas properly, you need to make appropriate definitions of the necessary quantities.**

(1) $\quad\quad\mathbf{b}=\big(\mathbb{X}^\transpose \mathbb{X} \big)^{-1}\, \mathbb{X}^\transpose\mathbf{y}$

(2) $\quad\quad \vec{\hat\beta}= \big(\mathbb{X}^\transpose \mathbb{X} \big)^{-1}\, \mathbb{X}^\transpose\mathbf{Y}, \quad \quad
\var(\vec{\hat\beta})= \sigma^2 \big( \mathbb{X}^\transpose \mathbb{X} \big)^{-1}$

(3) $\quad\quad\var(X)=\E\big[ (X-\E[X])^2\big] = \E[X^2]-\big(\E[X]\big)^2$


(4) $\quad\quad\cov(X,Y)=\E\big[ \big(X-\E[X]\big)\big(Y-\E[Y]\big)\big] = \E[XY]-\E[X]\,\E[Y]$

(5) $\quad\quad\var(\mat{A}\mathbf{Y})=\mat{A}\var(\mathbf{Y})\mat{A}^\transpose$,
$\quad\quad\varSample(\mat{X}\mat{A}^\transpose) = \mat{A}\, \varSample(\mat{X})\, \mat{A}^\transpose$

(6) $\quad\quad$The probability density function of the standard normal distribution is $\frac{1}{\sqrt{2\pi}} e^{-x^2/2}$

(7) $\quad\quad$If a random variable is normally distributed, the probability it falls within one standard deviation of the mean is 68%, within two standard deviations of the mean is 95%, and within three standard deviations of the mean is 99.7%.

(8) $\quad\quad$Syntax from `?pnorm`:
```
pnorm(q, mean = 0, sd = 1)
qnorm(p, mean = 0, sd = 1)
q: vector of quantiles.
p: vector of probabilities.
```

(9)  $\quad\quad(\mat{A}\mat{B})^\transpose = \mat{B}^\transpose\mat{A}^\transpose$, 
\hspace{2mm} $(\mat{A}\mat{B})^{-1} = \mat{B}^{-1}\mat{A}^{-1}$, 
\hspace{2mm} $(\mat{A}^\transpose)^{-1}=(\mat{A}^{-1})^\transpose$, 
\hspace{2mm} $(\mat{A}^\transpose)^\transpose = \mat{A}$.


-------------------------


\newpage

### Q1. Circle TRUE or FALSE for the following statements. No explanation is necessary. 
```{r q1-all-list,include=F}
q_dirs <- list.files(pattern="^Q1")
cat_file <- "tmp1.Rmd"
#
# first add lines so each question knows its directory
#
for(q_dir in q_dirs){
  q_file <- paste(q_dir,"/q.Rmd",sep="") 
  q_tmp <- paste(q_dir,"/tmp.Rmd",sep="") 
  file.create(q_tmp)  
  fileConn<-file(q_tmp)
  writeLines(c(
    "```{r,echo=F,results=ifelse(QLABELS,'asis','hide')}",
    paste("my_dir <- '",q_dir,"'",sep=""),
    "cat(my_dir,'.',sep='')",
    "```"
  ),fileConn)
  close(fileConn)  
  file.append(q_tmp,q_file)
}
# 
# Then concatenate these enhanced question files
#
q_files <- paste(q_dirs,"/tmp.Rmd",sep="") 
file.create(cat_file)
file.append(cat_file,q_files)
#
# Sample 3 for the test
#
sample_files <- sample(q_files,size=3)
```

```{r, child = sample_files[1],eval=!ALL}
```

```{r, child = sample_files[2],eval=!ALL}
```

```{r, child = sample_files[3],eval=!ALL}
```


```{r, child = cat_file,eval=ALL}
```

\exam{\newpage}

### Q2. Normal approximations, mean and variance

```{r q2-all-list,include=F}
q_dirs <- list.files(pattern="^Q2")
cat_file <- "tmp2.Rmd"
#
# first add lines so each question knows its directory
#
for(q_dir in q_dirs){
  q_file <- paste(q_dir,"/q.Rmd",sep="") 
  q_tmp <- paste(q_dir,"/tmp.Rmd",sep="") 
  file.create(q_tmp)  
  fileConn<-file(q_tmp)
  writeLines(c(
    "```{r,echo=F,results=ifelse(QLABELS,'asis','hide')}",
    paste("my_dir <- '",q_dir,"'",sep=""),
    "cat(my_dir,'.',sep='')",
    "```"
  ),fileConn)
  close(fileConn)  
  file.append(q_tmp,q_file)
}
# 
# Then concatenate these enhanced question files
#
q_files <- paste(q_dirs,"/tmp.Rmd",sep="") 
if(!ALL) q_files <- sample(q_files,size=1)
file.create(cat_file)
file.append(cat_file,q_files)
```

```{r, child = cat_file}
```

\exam{\newpage}


### Q3. Prediction 

```{r,include=F}
q_dirs <- list.files(pattern="^Q3")
cat_file <- "tmp3.Rmd"
#
# first add lines so each question knows its directory
#
for(q_dir in q_dirs){
  q_file <- paste(q_dir,"/q.Rmd",sep="") 
  q_tmp <- paste(q_dir,"/tmp.Rmd",sep="") 
  file.create(q_tmp)  
  fileConn<-file(q_tmp)
  writeLines(c(
    "```{r,echo=F,results=ifelse(QLABELS,'asis','hide')}",
    paste("my_dir <- '",q_dir,"'",sep=""),
    "cat(my_dir,'.',sep='')",
    "```"
  ),fileConn)
  close(fileConn)  
  file.append(q_tmp,q_file)
}
# 
# Then concatenate these enhanced question files
#
q_files <- paste(q_dirs,"/tmp.Rmd",sep="") 
if(!ALL) q_files <- sample(q_files,size=1)
file.create(cat_file)
file.append(cat_file,q_files)
```

```{r, child = cat_file}
```

\exam{\newpage}

### Q4. Linear models with factors

```{r,include=F}
q_dirs <- list.files(pattern="^Q4")
cat_file <- "tmp4.Rmd"
#
# first add lines so each question knows its directory
#
for(q_dir in q_dirs){
  q_file <- paste(q_dir,"/q.Rmd",sep="") 
  q_tmp <- paste(q_dir,"/tmp.Rmd",sep="") 
  file.create(q_tmp)  
  fileConn<-file(q_tmp)
  writeLines(c(
    "```{r,echo=F,results=ifelse(QLABELS,'asis','hide')}",
    paste("my_dir <- '",q_dir,"'",sep=""),
    "cat(my_dir,'.',sep='')",
    "```"
  ),fileConn)
  close(fileConn)  
  file.append(q_tmp,q_file)
}
# 
# Then concatenate these enhanced question files
#
q_files <- paste(q_dirs,"/tmp.Rmd",sep="") 
if(!ALL) q_files <- sample(q_files,size=1)
file.create(cat_file)
file.append(cat_file,q_files)
```

```{r, child = cat_file}
```


------



License: This material is provided under an [MIT license](https://ionides.github.io/401w18/LICENSE)<br>




------
